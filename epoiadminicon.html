{% extends "base.html" %}

{% block pagetitle %}
Epoi Icon Adminstration
{% endblock %}

{% block content %}
    <h1>Manage the osm tags this icon stands for</h1>
    Click on icon to change it

    <br>
    <form name="osmtags" action="/epoiadmin/icon" method="get">
    <!-- hidden input field is used to re-submit the icon's id -->
    <input name="id" type="hidden" value="{{ icon.id }}">
    <!-- hidden input field is used together with javascript to submit -->
    <input type="hidden" name="action" value="">

    <script type="text/javascript">
      function submitForm(action) {
        document.forms["osmtags"].action.value = action;
        document.forms["osmtags"].submit();
      }
    </script>

    <table border="1">
        <tr>
          <td><img src="/{{ icon.file }}" /><td>
          <td colspan="2"><input name="name" type="text" size="40" maxlength="40" value="{{ icon.name }}"></td>
        </tr>
        {% for tag in osmtags %}
        <tr>
            <td><a name="delete" href="javascript:void(0);" onClick="submitForm('tagdelete_{{tag.id}}');">Delete</a></td>
            <td>{{ tag.k }}=</td><td>{{ tag.v }}</td>
        </tr>
        {% endfor %}
        <tr>
            <td><a name="add" href="javascript:void(0);" onClick="submitForm('add');">Add</a></td>
            <td><input name="key" type="text" size="12" maxlength="40"">=</td>
            <td><input name="value" type="text" size="16" maxlength="40""> (key=value)</td>
        </tr>
    </table>

    <a name="delete" href="javascript:void(0);" onClick="submitForm('delete');">Delete</a>
    <a name="clone" href="javascript:void(0);" onClick="submitForm('clone');">Clone</a>
    <a name="done" href="javascript:void(0);" onClick="submitForm('done');">Done</a>

    </form>

{% endblock %}

